(()=>{"use strict";var e={n:l=>{var r=l&&l.__esModule?()=>l.default:()=>l;return e.d(r,{a:r}),r},d:(l,r)=>{for(var a in r)e.o(r,a)&&!e.o(l,a)&&Object.defineProperty(l,a,{enumerable:!0,get:r[a]})},o:(e,l)=>Object.prototype.hasOwnProperty.call(e,l)};const l=window.wp.blocks,r=JSON.parse('{"u2":"create-block/rrze-glossary"}'),a=window.React,t=window.wp.i18n,o=window.wp.element,s=window.wp.data,n=window.wp.blockEditor,i=window.wp.components,g=window.wp.serverSideRender;var c=e.n(g);(0,l.registerBlockType)(r.u2,{edit:function({attributes:e,setAttributes:l}){const{register:r,tag:g,id:_,hstart:u,order:d,sort:y,lang:p,additional_class:b,color:h,style:z,load_open:v,expand_all_link:m,hide_title:C,hide_accordion:E,registerstyle:S,glossary:f}=e,w=(0,n.useBlockProps)(),[k,T]=(0,o.useState)([""]),[q,O]=(0,o.useState)([""]),[A,B]=(0,o.useState)([""]),G=(0,s.useSelect)((e=>e("core").getEntityRecords("taxonomy","rrze_glossary_category",{per_page:-1,orderby:"name",order:"asc",status:"publish",_fields:"id,name,slug,parent"})),[]),P=[{label:(0,t.__)("all","rrze-glossary"),value:""}];Array.isArray(G)&&P.push(...function(e){const l=new Map,r=[];e.forEach((e=>{e.children=[],l.set(e.id,e)})),e.forEach((e=>{e.parent&&l.has(e.parent)?l.get(e.parent).children.push(e):r.push(e)}));const a=(e,l=0)=>{const r=[];return(e=>e.sort(((e,l)=>e.name.localeCompare(l.name,void 0,{sensitivity:"base"}))))(e).forEach((e=>{r.push({label:`${"-".repeat(l)} ${e.name}`.trim(),value:e.slug}),r.push(...a(e.children,l+1))})),r};return a(r)}(G));const R=(0,s.useSelect)((e=>e("core").getEntityRecords("taxonomy","rrze_glossary_tag")),[]),x=[{label:(0,t.__)("all","rrze-glossary"),value:""}];R&&Object.values(R).forEach((e=>{x.push({label:e.name,value:e.slug})}));const F=(0,s.useSelect)((e=>e("core").getEntityRecords("postType","rrze_glossary",{per_page:-1,orderby:"title",order:"asc"})),[]),j=[{label:(0,t.__)("all","rrze-glossary"),value:0}];F&&Object.values(F).forEach((e=>{j.push({label:e.title.rendered?e.title.rendered:(0,t.__)("No title","rrze-glossary"),value:e.id})}));const D=[{label:(0,t.__)("none","rrze-faq"),value:""},{label:(0,t.__)("Categories","rrze-faq"),value:"category"},{label:(0,t.__)("Tags","rrze-faq"),value:"tag"}],H=[{label:(0,t.__)("all","rrze-faq"),value:""},{label:(0,t.__)("German","rrze-faq"),value:"de"},{label:(0,t.__)("English","rrze-faq"),value:"en"},{label:(0,t.__)("French","rrze-faq"),value:"fr"},{label:(0,t.__)("Spanish","rrze-faq"),value:"es"},{label:(0,t.__)("Russian","rrze-faq"),value:"ru"},{label:(0,t.__)("Chinese","rrze-faq"),value:"zh"}],I=[{label:(0,t.__)("A - Z","rrze-glossary"),value:"a-z"},{label:(0,t.__)("Tagcloud","rrze-glossary"),value:"tagcloud"},{label:(0,t.__)("Tabs","rrze-glossary"),value:"tabs"},{label:(0,t.__)("-- hidden --","rrze-glossary"),value:""}],L=[{label:(0,t.__)("none","rrze-glossary"),value:""},{label:"light",value:"light"},{label:"dark",value:"dark"}],M=[{label:(0,t.__)("Title","rrze-glossary"),value:"title"},{label:(0,t.__)("ID","rrze-glossary"),value:"id"},{label:(0,t.__)("Sort field","rrze-glossary"),value:"sortfield"}],N=[{label:(0,t.__)("ASC","rrze-glossary"),value:"ASC"},{label:(0,t.__)("DESC","rrze-glossary"),value:"DESC"}];return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(n.BlockControls,null,(0,a.createElement)(n.HeadingLevelDropdown,{options:[2,3,4,5,6],value:u,onChange:e=>l({hstart:e})})),(0,a.createElement)(n.InspectorControls,null,(0,a.createElement)(i.PanelBody,{title:(0,t.__)("Filter options","rrze-glossary"),initialOpen:!0},(0,a.createElement)(i.SelectControl,{label:(0,t.__)("Categories","rrze-glossary"),help:(0,t.__)("Select categories to filter glossary entries.","rrze-glossary"),value:k,options:P,onChange:e=>{T(e),l({category:String(e)})},multiple:!0}),(0,a.createElement)(i.SelectControl,{label:(0,t.__)("Tags","rrze-glossary"),help:(0,t.__)("Select tags to filter glossary entries.","rrze-glossary"),value:q,options:x,onChange:e=>{O(e),l({tag:String(e)})},multiple:!0}),(0,a.createElement)(i.SelectControl,{label:(0,t.__)("Individual Glossary-Entries","rrze-glossary"),help:(0,t.__)("Select glossary entries to filter glossary entries.","rrze-glossary"),value:A,options:j,onChange:e=>{B(e),l({id:String(e)})},multiple:!0}),(0,a.createElement)(i.SelectControl,{label:(0,t.__)("Language","rrze-glossary"),help:(0,t.__)("Select language to filter glossary entries.","rrze-glossary"),options:H,onChange:e=>l({lang:e})}),(0,a.createElement)(i.SelectControl,{label:(0,t.__)("Group by","rrze-glossary"),help:(0,t.__)("Groups Glossary-Entries by category or tags.","rrze-glossary"),options:D,onChange:e=>l({register:e})})),(0,a.createElement)(i.PanelBody,{title:(0,t.__)("Styles","rrze-glossary"),initialOpen:!1},(0,a.createElement)(i.SelectControl,{label:(0,t.__)("Glossary Style","rrze-glossary"),help:(0,t.__)("Controls the Appearance of the Tab bar.","rrze-glossary"),options:I,onChange:e=>l({registerstyle:e})}),(!f||"none"===f)&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(i.ToggleControl,{checked:!!E,label:(0,t.__)("Hide accordion","rrze-glossary"),onChange:()=>l({hide_accordion:!E})}),E?(0,a.createElement)(i.ToggleControl,{checked:!!C,label:(0,t.__)("Hide title","rrze-glossary"),onChange:()=>l({hide_title:!C})}):(0,a.createElement)(a.Fragment,null,(0,a.createElement)(i.ToggleControl,{checked:!!m,label:(0,t.__)('Show "expand all" button',"rrze-glossary"),onChange:()=>l({expand_all_link:!m})}),(0,a.createElement)(i.ToggleControl,{checked:!!v,label:(0,t.__)("Load website with opened accordions","rrze-glossary"),onChange:()=>l({load_open:!v})}),(0,a.createElement)(i.SelectControl,{label:(0,t.__)("Color","rrze-glossary"),options:[{label:"fau",value:"fau"},{label:"med",value:"med"},{label:"nat",value:"nat"},{label:"phil",value:"phil"},{label:"rw",value:"rw"},{label:"tf",value:"tf"}],onChange:e=>l({color:e})}),(0,a.createElement)(i.SelectControl,{label:(0,t.__)("Style","rrze-glossary"),options:L,onChange:e=>l({style:e})})))),(0,a.createElement)(i.PanelBody,{title:(0,t.__)("Sorting options","rrze-glossary"),initialOpen:!1},(0,a.createElement)(i.SelectControl,{label:(0,t.__)("Sort","rrze-glossary"),options:M,onChange:e=>l({sort:e})}),(0,a.createElement)(i.SelectControl,{label:(0,t.__)("Order","rrze-glossary"),options:N,onChange:e=>l({order:e})}))),(0,a.createElement)("div",{...w},(0,a.createElement)(c(),{block:"create-block/rrze-glossary",attributes:e})))},save:function(){return null}})})();